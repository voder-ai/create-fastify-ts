# 002.0-DEVELOPER-DEPENDENCIES-INSTALL: Install Dependencies and Configure Development Environment

## Release Goal

**Production-Ready Foundation** - Enable developers to get from zero to working API server in under 30 seconds with a single npm init command.

This story completes the dependency installation phase, ensuring all required packages are installed and the development environment is fully configured and ready for immediate use. It connects to the "Install Dependencies" journey phase where developers set up their complete toolchain.

## How This Story Contributes

This story is the critical enabler that transforms an initialized project structure (from 001.0) into a fully functional development environment. It enables:

- **Unblocks all subsequent work**: Stories 003.0 (dev server), 004.0 (tests), 006.0 (build), and 007.0 (lint/format) can run in parallel after this completes
- **Zero-configuration experience**: Developer runs one command and everything is ready - no manual setup steps
- **Complete toolchain**: All dependencies, dev tools, git hooks, and configurations are in place
- **Immediate productivity**: Developer can start using npm scripts without any additional setup

## User Story

**Format**: So that I can immediately start developing without manual configuration or setup steps, as an API Developer, I want all dependencies and development tools to be installed and configured automatically with one command.

**INVEST Criteria Compliance**:

- **Independent**: Depends only on 001.0 (template initialization); no other blocking dependencies
- **Negotiable**: Package versions and post-install configurations can be refined based on developer feedback
- **Valuable**: Delivers complete development environment - developer can run any npm script after this completes
- **Estimable**: Clear scope - run npm install, verify dependencies installed, confirm git hooks configured
- **Small**: Single iteration - focused on installation and automatic configuration only
- **Testable**: Clear success criteria - npm install succeeds, node_modules exists, husky hooks configured, no errors

## Acceptance Criteria

- [ ] **Dependencies Install Successfully**: Running `npm install` completes without errors and creates `node_modules/` directory with all packages
- [ ] **Package Lock Generated**: `package-lock.json` is created or updated with exact dependency versions for reproducible installs
- [ ] **Git Hooks Configured**: Husky pre-commit and pre-push hooks are installed and functional after npm install
- [ ] **No Post-Install Manual Steps**: Developer does not need to run any additional commands after `npm install` completes
- [ ] **Fast Installation**: Installation completes in reasonable time (< 2 minutes on typical internet connection)
- [ ] **No Dependency Conflicts**: No peer dependency warnings or version conflicts during installation
- [ ] **Clean npm Output**: No error or warning messages that would confuse or concern developers

## Requirements

- **REQ-INSTALL-NPM-CI**: Template supports `npm ci` for clean, reproducible installs in CI/CD environments
- **REQ-INSTALL-LOCKFILE**: package-lock.json is maintained and committed to ensure consistent installs across environments
- **REQ-INSTALL-NO-AUDIT-FAIL**: Fresh install has zero high/critical severity vulnerabilities (npm audit passes)
- **REQ-INSTALL-NODE-VERSION**: Installation verifies Node.js >= 22.0.0 requirement and fails with clear error if not met
- **REQ-INSTALL-ALL-DEPS**: All dependencies required for dev, test, build, and production are included in package.json
- **REQ-INSTALL-HUSKY-READY**: Git hooks in .husky/ directory are pre-configured and ready to use after installation
- **REQ-INSTALL-OFFLINE-CACHE**: Subsequent installs work offline if npm cache is populated

## Dependencies

- **001.0-DEVELOPER-TEMPLATE-INIT**: Template must be initialized with package.json and project structure before dependencies can be installed

## Implementation Notes

**Git Hooks (Husky v9+)**:

- Hook files are pre-created in .husky/ directory and committed to the repository
- The `prepare` script in package.json automatically runs `husky` command after npm install
- This configures git to use the hooks (sets git config core.hooksPath)
- Hooks become functional automatically - no manual commands needed from developer

**Developer Context**:

- This story ensures the "npm install" step in README works without issues
- After this story completes, all npm scripts should be functional (verified in subsequent stories)
- The developer's next step is typically `npm run dev` (covered in 003.0)

## Definition of Done

- [ ] npm install completes successfully in initialized project
- [ ] All acceptance criteria met
- [ ] Husky hooks are installed and functional
- [ ] No manual post-install steps required
- [ ] Documentation reflects the installation process
- [ ] Story map updated with story reference
- [ ] Ready for stories 003.0, 004.0, 006.0, 007.0 (parallel development)

---

## Story Metadata

- **Story Number**: 002.0
- **Persona**: Developer (API Developer)
- **Theme**: Production-Ready Foundation â†’ Working Server (Current)
- **Journey Phase**: Install Dependencies
- **Estimated Effort**: Low
- **Priority**: 2 (Critical enabler - blocks multiple subsequent stories)
