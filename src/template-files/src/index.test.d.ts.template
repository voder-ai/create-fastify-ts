/**
 * Example type-level tests for the generated Fastify server API surface.
 *
 * This file is copied into new projects as src/index.test.d.ts during
 * template initialization to demonstrate how to write `.test.d.ts`
 * files that are validated by the TypeScript compiler.
 *
 * @supports docs/stories/004.0-DEVELOPER-TESTS-RUN.story.md REQ-TEST-EXAMPLES REQ-TEST-TYPESCRIPT
 */
import type { FastifyInstance } from 'fastify';
import type { buildServer } from './index.js';

type Equal<A, B> =
  (<T>() => T extends A ? 1 : 2) extends <T>() => T extends B ? 1 : 2 ? true : false;

type Expect<T extends true> = T;

/**
 * [REQ-TEST-EXAMPLES] buildServer returns a Promise<FastifyInstance>.
 */
export type BuildServerReturnsPromiseOfFastifyInstance = Expect<
  Equal<ReturnType<typeof buildServer>, Promise<FastifyInstance>>
>;
